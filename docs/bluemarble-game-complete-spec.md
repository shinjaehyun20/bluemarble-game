# 부루마블 웹 보드게임 - 완전 개발 실행 문서

---

## 1. 프로젝트 개요

### 1.1 프로젝트 기본 정보
- **프로젝트명**: 세계여행 부루마블 (World Tour Blue Marble)
- **프로젝트 슬로건**: "주사위 하나로 떠나는 세계 여행!"
- **버전**: v1.0.0
- **주요 목적**: 웹 기반 실시간 멀티플레이 보드게임 제공
- **타겟 사용자**: 보드게임 팬, 가족, 친구 그룹
- **예상 개발 기간**: 2개월 (Sprint 4회)
- **개발 인원**: 1~2명 (풀스택)

### 1.2 게임 특징
- **플레이어**: 1~5명 (AI 상대 가능)
- **테마**: 세계 유명 관광지 중심 보드
- **게임 시간**: 30분~2시간
- **난이도**: 쉬움 (누구나 즐길 수 있는 캐주얼 게임)
- **플랫폼**: 웹 브라우저 (PC, 태블릿)

### 1.3 핵심 게임 요소
- **보드**: 40칸 (세계 유명 관광지 32곳 + 특수 칸 8곳)
- **주사위**: 2개 (1~6)
- **건물**: 별장, 빌딩, 호텔 (3단계)
- **이벤트**: 황금열쇠, 우주여행, 무인도, 세계여행
- **플레이어 커스터마이징**: 이름 설정 (귀여운 폰트), 말 선택

---

## 2. 게임 규칙 (대중적 룰 적용)

### 2.1 게임 준비

#### 플레이어 설정
- 1~5명 참여 가능
- 각 플레이어는 이름 설정 (최대 10자, 한글/영문)
- 폰트: 귀여운 둥근 산세리프체 (Noto Sans KR Rounded 또는 Comic Sans 스타일)
- 말 색상 선택: 빨강, 파랑, 노랑, 초록, 보라

#### 초기 자금
- 각 플레이어에게 **150만원** 지급
  - 50만원권 2장
  - 10만원권 3장
  - 5만원권 2장
  - 1만원권 5장

#### 게임 순서
- 주사위를 굴려 가장 큰 숫자가 나온 사람부터 시작 (동점 시 재굴림)
- 시계방향으로 턴 진행

### 2.2 게임 진행 (전반전 - 땅 사기)

#### 턴 구조
1. **주사위 굴리기**: 2개의 주사위를 굴려 나온 합만큼 이동
2. **더블**: 두 주사위가 같은 숫자면 한 번 더 굴릴 수 있음
   - **더블 3회 연속 시**: 무인도로 이동 (3턴 휴식)
3. **도착한 칸 처리**:
   - **빈 땅**: 구매 가능 (구매 거부 가능)
   - **다른 사람 소유 땅**: 통행료 지불 (후반전부터)
   - **특수 칸**: 해당 이벤트 처리
4. **턴 종료**: 다음 플레이어에게 순서 넘김

#### 출발 (START)
- 출발 칸을 지나거나 정확히 도착 시 **월급 20만원** 지급

#### 땅 구매
- 도착한 칸이 빈 땅이면 **씨앗증서 구매 가능**
- 구매 가격: 증서에 명시된 금액
- 구매 거부 가능 (다른 플레이어에게 기회 넘어가지 않음)

#### 전반전 종료 조건
- **모든 땅이 팔린 후** 자동으로 후반전 진입
- 또는 플레이어 합의로 조기 후반전 시작 가능

### 2.3 게임 진행 (후반전 - 건물 짓기 & 통행료)

#### 건물 건설
- **자신의 땅에만** 건물 건설 가능
- 건설 순서: 별장 → 빌딩 → 호텔
- 건설 비용: 증서에 명시 (땅 가격의 50%)
- **같은 색 그룹 완성 시 건물 건설 가능** (선택 룰)

#### 통행료
- 다른 플레이어가 내 땅에 도착하면 **통행료 지불**
- 통행료는 건물 수준에 따라 증가:
  - 빈 땅: 땅값의 10%
  - 별장 1개: 땅값의 50%
  - 빌딩 1개: 땅값의 200%
  - 호텔 1개: 땅값의 500%

#### 건물 이동
- 자신의 턴에 건물 위치 변경 가능 (자신의 땅 간 이동)
- 건물 철거: 건설 비용의 50% 환불

### 2.4 특수 칸

#### 황금열쇠 (Golden Key)
- 카드를 1장 뽑아 지시 따르기
- 예시 카드:
  - "출발점으로 이동하세요 (월급 받음)"
  - "가장 가까운 관광지로 이동하세요"
  - "은행으로부터 5만원 받으세요"
  - "모든 플레이어에게 1만원씩 주세요"
  - "무인도로 이동하세요"
  - "3칸 뒤로 이동하세요"

#### 무인도 (Deserted Island)
- 3턴 휴식 (주사위 못 굴림)
- 탈출 방법:
  - 3턴 대기 후 자동 탈출
  - 더블 굴려서 탈출
  - 무인도 탈출권 사용 (5만원)

#### 우주여행 (Space Travel)
- 원하는 칸으로 즉시 이동 가능
- 출발 칸 통과 시 월급 받음

#### 세계여행 (World Tour)
- 보드 한 바퀴 무료 여행 (통행료 면제)
- 월급 2배 지급

#### 사회복지기금 (Community Chest)
- 기금에 쌓인 돈 전액 획득
- 기금 적립: 소득세, 유지비 등이 쌓임

#### 소득세 (Income Tax)
- 현재 보유 현금의 10% 납부
- 최소 5만원

#### 유지비 (Property Tax)
- 보유 건물 1개당 1만원 납부

### 2.5 거래 (Trading)

#### 플레이어 간 거래
- 자신의 턴에 다른 플레이어와 거래 가능
- 거래 가능 항목:
  - 땅 (씨앗증서)
  - 건물 (별장, 빌딩, 호텔)
  - 현금
- 거래 가격: 자유 협상

#### 경매 (선택 룰)
- 남은 땅이 5개 이하일 때 경매로 판매
- 최고가 제시자가 구매

### 2.6 파산 (Bankruptcy)

#### 파산 조건
- 지불해야 할 돈이 부족하고 자산 매각으로도 해결 불가

#### 파산 처리
- 모든 자산(땅, 건물, 현금)을 채권자에게 이전
- 게임에서 탈락

### 2.7 승리 조건

#### 기본 승리
- **다른 플레이어 전원 파산 시 승리**

#### 시간 제한 승리
- 시간 설정 시 종료 시점에 **총 자산(현금 + 땅 + 건물) 가장 많은 플레이어 승리**
- 자산 계산:
  - 현금: 액면가
  - 땅: 구매 가격
  - 건물: 건설 비용

#### 독점 승리 (선택 룰)
- 같은 색 그룹의 모든 땅을 독점하면 **즉시 승리**

---

## 3. 세계 유명 관광지 보드 구성 (40칸)

### 3.1 관광지 분류 (색상 그룹)

#### 🟤 갈색 그룹 (저가) - 2곳
1. **부산 해운대** (한국) - 3만원
2. **방콕 왓 아룬** (태국) - 5만원

#### 🔵 파랑 그룹 (중저가) - 3곳
3. **베이징 만리장성** (중국) - 8만원
4. **도쿄 도쿄타워** (일본) - 10만원
5. **타이베이 101** (대만) - 12만원

#### 🟣 보라 그룹 (중가) - 3곳
6. **시드니 오페라하우스** (호주) - 15만원
7. **오클랜드 스카이타워** (뉴질랜드) - 18만원
8. **피지 나디** (피지) - 20만원

#### 🟠 주황 그룹 (중고가) - 3곳
9. **뉴욕 자유의 여신상** (미국) - 25만원
10. **시카고 윌리스 타워** (미국) - 28만원
11. **LA 할리우드** (미국) - 30만원

#### 🔴 빨강 그룹 (고가) - 3곳
12. **런던 빅벤** (영국) - 35만원
13. **파리 에펠탑** (프랑스) - 40만원
14. **로마 콜로세움** (이탈리아) - 45만원

#### 🟡 노랑 그룹 (최고가) - 3곳
15. **두바이 부르즈 할리파** (UAE) - 50만원
16. **이스탄불 아야 소피아** (터키) - 55만원
17. **카이로 피라미드** (이집트) - 60만원

#### 🟢 초록 그룹 (프리미엄) - 3곳
18. **리우 예수상** (브라질) - 70만원
19. **마추픽추** (페루) - 80만원
20. **그랜드 캐니언** (미국) - 90만원

#### ⚫ 검정 그룹 (울트라) - 2곳
21. **서울 N서울타워** (한국) - 100만원
22. **서울 경복궁** (한국) - 150만원

### 3.2 특수 칸 배치 (8칸)

- **출발 (START)**: 0번 칸
- **무인도 (Deserted Island)**: 10번 칸
- **황금열쇠 (Golden Key)**: 7, 17, 27, 37번 칸 (4곳)
- **우주여행 (Space Travel)**: 20번 칸
- **세계여행 (World Tour)**: 30번 칸
- **소득세 (Income Tax)**: 4번 칸
- **유지비 (Property Tax)**: 38번 칸
- **사회복지기금 (Community Chest)**: 2, 22번 칸 (2곳)

### 3.3 완전한 보드 레이아웃 (40칸)

```
0. 출발 (START)
1. 부산 해운대 🟤
2. 사회복지기금
3. 방콕 왓 아룬 🟤
4. 소득세
5. 베이징 만리장성 🔵
6. 도쿄 도쿄타워 🔵
7. 황금열쇠
8. 타이베이 101 🔵
9. 시드니 오페라하우스 🟣
10. 무인도
11. 오클랜드 스카이타워 🟣
12. 피지 나디 🟣
13. 뉴욕 자유의 여신상 🟠
14. 시카고 윌리스 타워 🟠
15. LA 할리우드 🟠
16. 런던 빅벤 🔴
17. 황금열쇠
18. 파리 에펠탑 🔴
19. 로마 콜로세움 🔴
20. 우주여행
21. 두바이 부르즈 할리파 🟡
22. 사회복지기금
23. 이스탄불 아야 소피아 🟡
24. 카이로 피라미드 🟡
25. 리우 예수상 🟢
26. 마추픽추 🟢
27. 황금열쇠
28. 그랜드 캐니언 🟢
29. 서울 N서울타워 ⚫
30. 세계여행
31. 서울 경복궁 ⚫
32. 상파울루 (브라질) - 추가 관광지
33. 베를린 브란덴부르크문 (독일)
34. 암스테르담 (네덜란드)
35. 프라하 (체코)
36. 비엔나 (오스트리아)
37. 황금열쇠
38. 유지비
39. 발리 (인도네시아)
```

---

## 4. 요구사항 정의

### 4.1 기능적 요구사항

#### [REQ-001] 플레이어 설정 (높음)
- **사용자 스토리**: 플레이어는 게임 시작 전 자신의 이름을 설정하고 말 색상을 선택할 수 있어야 한다
- **상세 설명**:
  - 이름 입력: 최대 10자 (한글/영문/숫자)
  - 폰트: 귀여운 둥근 폰트 (Noto Sans KR Rounded 또는 유사)
  - 말 색상: 빨강, 파랑, 노랑, 초록, 보라 중 선택
  - 외형: 추후 고도화 (현재는 색상만)
- **입력**: 이름, 색상 선택
- **출력**: 플레이어 프로필 생성
- **예외 처리**:
  - 중복 이름 허용
  - 빈 이름 입력 시 "플레이어1" 등 기본 이름 자동 설정

#### [REQ-002] 실시간 턴 처리 (높음)
- **사용자 스토리**: 플레이어는 순서대로 턴을 진행하며 공정하게 게임을 즐길 수 있어야 한다
- **상세 설명**:
  - 주사위 굴리기 → 말 이동 애니메이션 → 도착 칸 처리 → 턴 종료
  - 더블 처리: 같은 숫자 나오면 한 번 더 (최대 3회, 3회 연속 시 무인도)
  - 타임아웃: 30초 내 행동 없으면 자동 패스 (선택 룰)
- **입력**: 주사위 클릭, 구매/거부 선택
- **출력**: 보드 상태 업데이트, 로그 메시지
- **예외 처리**:
  - 연결 끊김 시 AI가 대신 플레이 또는 재접속 대기
  - 불법 행동 차단 (서버 검증)

#### [REQ-003] 땅 구매 및 건물 건설 (높음)
- **사용자 스토리**: 플레이어는 빈 땅을 구매하고 자신의 땅에 건물을 지어 자산을 증식할 수 있어야 한다
- **상세 설명**:
  - 땅 구매: 도착한 빈 땅 구매 옵션 표시
  - 건물 건설: 자신의 턴에 건물 짓기 메뉴 제공
  - 건물 이동/철거: 자산 관리 메뉴에서 가능
- **입력**: 구매/건설 버튼 클릭
- **출력**: 자산 목록 업데이트, 현금 감소
- **예외 처리**:
  - 자금 부족 시 경고 메시지
  - 건물 건설 불가 조건 안내

#### [REQ-004] 통행료 자동 계산 (높음)
- **사용자 스토리**: 플레이어는 다른 플레이어 땅에 도착 시 자동으로 통행료가 계산되고 지불되어야 한다
- **상세 설명**:
  - 도착 시 통행료 계산 (건물 수준 반영)
  - 자동 지불 및 소유자에게 입금
  - 지불 불가 시 파산 처리
- **입력**: 자동 (도착 시)
- **출력**: 통행료 지불 애니메이션, 로그 메시지

#### [REQ-005] 황금열쇠 이벤트 (중간)
- **사용자 스토리**: 플레이어는 황금열쇠 칸에 도착하면 랜덤 이벤트를 경험하여 게임의 재미를 느낄 수 있어야 한다
- **상세 설명**:
  - 카드 덱에서 랜덤 추출
  - 카드 내용 표시 및 자동 실행
  - 사용한 카드는 덱 맨 아래로 이동 (순환)
- **카드 목록 (20종)**:
  1. 출발점으로 이동 (월급 받음)
  2. 무인도로 이동
  3. 3칸 뒤로 이동
  4. 가장 가까운 관광지로 이동
  5. 은행에서 10만원 받기
  6. 은행에 5만원 내기
  7. 모든 플레이어에게 1만원씩 주기
  8. 모든 플레이어로부터 1만원씩 받기
  9. 건물 수리비 (별장 1만원, 빌딩 3만원, 호텔 5만원)
  10. 생일 축하금 5만원 받기
  11. 소득세 10만원 납부
  12. 병원비 3만원 납부
  13. 복권 당첨 20만원 받기
  14. 세금 환급 8만원 받기
  15. 무인도 탈출권 획득
  16. 다음 턴 면제권 획득
  17. 원하는 플레이어와 위치 교환
  18. 주사위 한 번 더 굴리기
  19. 사회복지기금에 5만원 기부
  20. 가장 비싼 땅으로 이동

#### [REQ-006] 실시간 멀티플레이 (높음)
- **사용자 스토리**: 여러 플레이어가 동시에 접속하여 실시간으로 게임을 즐길 수 있어야 한다
- **상세 설명**:
  - 방 생성/입장 시스템
  - WebSocket 기반 실시간 통신
  - 모든 플레이어에게 동일한 게임 상태 동기화
  - 채팅 기능 (선택)
- **기술 구현**: Socket.io
- **입력**: 방 생성/입장
- **출력**: 실시간 게임 상태 업데이트

#### [REQ-007] AI 상대 (중간)
- **사용자 스토리**: 혼자 플레이 시 AI 상대와 게임을 즐길 수 있어야 한다
- **상세 설명**:
  - 간단한 AI 로직 (땅 구매, 건물 건설)
  - 난이도: 쉬움 (랜덤 전략), 보통 (최적 전략), 어려움 (공격적 전략)

#### [REQ-008] 게임 로그 및 리플레이 (낮음)
- **사용자 스토리**: 플레이어는 게임 진행 상황을 로그로 확인하고 게임 종료 후 리플레이를 볼 수 있어야 한다
- **상세 설명**:
  - 우측 패널에 실시간 로그 표시
  - 게임 종료 후 전체 로그 다운로드
  - 리플레이 기능 (선택 사항)

### 4.2 비기능적 요구사항

#### [NFR-001] 성능
- 주사위 굴림 → 말 이동 애니메이션: 2~3초
- WebSocket 이벤트 처리: < 150ms
- 게임 상태 동기화 지연: < 200ms

#### [NFR-002] 보안
- 서버 권위 구조: 모든 게임 로직 서버에서 검증
- 치트 방지: 클라이언트 조작 무효
- 룸 권한: 방장만 게임 시작 가능

#### [NFR-003] 확장성
- 플레이어 수 확장 가능 (1~8명)
- 맵 추가 용이 (JSON 데이터)
- 특수 룰 플러그인 방식

#### [NFR-004] 유지보수성
- 상태 머신 패턴 사용
- 이벤트 주도 아키텍처
- 명확한 코드 주석 (한국어)

---

## 5. 기술 스택 및 아키텍처

### 5.1 기술 스택 세부 사양

#### 프론트엔드
- **프레임워크**: React 18+
- **언어**: TypeScript
- **상태 관리**: Zustand
- **UI 라이브러리**: Tailwind CSS + shadcn/ui
- **애니메이션**: Framer Motion
- **실시간 통신**: Socket.io-client
- **폰트**: Noto Sans KR (귀여운 Rounded 변형)

#### 백엔드
- **프레임워크**: Node.js + Express
- **언어**: TypeScript
- **실시간 통신**: Socket.io
- **데이터베이스**: MongoDB
- **인증**: Session-based (express-session)
- **유효성 검사**: Zod

#### 인프라
- **배포**: Docker + Docker Compose
- **호스팅**: AWS EC2 또는 로컬 환경
- **DB**: MongoDB Atlas (클라우드) 또는 로컬

### 5.2 시스템 아키텍처

```
┌─────────────────────────────────────────────────┐
│            클라이언트 (React)                    │
│  - 게임 UI                                       │
│  - 보드 렌더링                                   │
│  - Socket.io 클라이언트                          │
└────────────────┬────────────────────────────────┘
                 │ WebSocket (Socket.io)
                 ↓
┌─────────────────────────────────────────────────┐
│         서버 (Node.js + Express)                │
│  - 게임 로직                                     │
│  - 상태 머신                                     │
│  - Socket.io 서버                                │
└────────┬────────────────────────────────────────┘
         │
         ↓
┌─────────────────────────────────────────────────┐
│           MongoDB                                │
│  - 방 정보                                       │
│  - 게임 상태                                     │
│  - 플레이어 정보                                 │
└─────────────────────────────────────────────────┘
```

### 5.3 디렉토리 구조

```
bluemarble-game/
├── client/                    # React 프론트엔드
│   ├── src/
│   │   ├── components/
│   │   │   ├── Board.tsx
│   │   │   ├── Cell.tsx
│   │   │   ├── Player.tsx
│   │   │   ├── Dice.tsx
│   │   │   ├── PropertyCard.tsx
│   │   │   ├── GoldenKeyCard.tsx
│   │   │   ├── PlayerPanel.tsx
│   │   │   ├── GameLog.tsx
│   │   │   └── Lobby.tsx
│   │   ├── hooks/
│   │   │   ├── useSocket.ts
│   │   │   └── useGame.ts
│   │   ├── store/
│   │   │   └── gameStore.ts
│   │   ├── types/
│   │   │   └── game.types.ts
│   │   ├── utils/
│   │   │   └── animations.ts
│   │   ├── App.tsx
│   │   └── main.tsx
│   ├── package.json
│   └── vite.config.ts
│
├── server/                    # Node.js 백엔드
│   ├── src/
│   │   ├── models/
│   │   │   ├── Room.ts
│   │   │   ├── Player.ts
│   │   │   └── GameState.ts
│   │   ├── services/
│   │   │   ├── GameEngine.ts
│   │   │   ├── TurnManager.ts
│   │   │   ├── PropertyManager.ts
│   │   │   └── EventHandler.ts
│   │   ├── socket/
│   │   │   └── gameSocket.ts
│   │   ├── config/
│   │   │   ├── board.json
│   │   │   └── goldenKeys.json
│   │   ├── utils/
│   │   │   ├── validators.ts
│   │   │   └── helpers.ts
│   │   └── server.ts
│   ├── package.json
│   └── tsconfig.json
│
├── docs/
│   ├── API_DOCUMENTATION.md
│   ├── GAME_RULES.md
│   └── USER_GUIDE.md
│
├── docker-compose.yml
└── README.md
```

---

## 6. 데이터 모델

### 6.1 MongoDB 스키마

```typescript
// Room (방)
interface Room {
  id: string;
  name: string;
  status: 'waiting' | 'playing' | 'finished';
  players: Player[];
  currentTurn: number;
  createdAt: Date;
  gameState: GameState;
}

// Player (플레이어)
interface Player {
  id: string;
  socketId: string;
  name: string;
  color: 'red' | 'blue' | 'yellow' | 'green' | 'purple';
  cash: number;
  position: number;
  properties: Property[];
  inJail: boolean;
  jailTurns: number;
  bankrupt: boolean;
}

// Property (자산)
interface Property {
  id: number;
  name: string;
  price: number;
  buildings: {
    cottage: number;  // 별장 수
    building: number; // 빌딩 수
    hotel: number;    // 호텔 수
  };
}

// GameState (게임 상태)
interface GameState {
  board: Cell[];
  goldenKeyDeck: GoldenKeyCard[];
  communityFund: number;
  diceRoll: [number, number] | null;
  lastAction: string;
  log: GameLog[];
}

// Cell (보드 칸)
interface Cell {
  id: number;
  type: 'property' | 'start' | 'jail' | 'goldenKey' | 'tax' | 'special';
  name: string;
  color?: string;
  price?: number;
  owner?: string;  // player id
}

// GoldenKeyCard (황금열쇠 카드)
interface GoldenKeyCard {
  id: number;
  title: string;
  description: string;
  action: 'move' | 'money' | 'special';
  value?: number | string;
}

// GameLog (게임 로그)
interface GameLog {
  timestamp: Date;
  playerId: string;
  playerName: string;
  action: string;
  details: string;
}
```

---

## 7. API 설계 (WebSocket Events)

### 7.1 클라이언트 → 서버

| 이벤트 | 설명 | 데이터 | 응답 |
|--------|------|--------|------|
| `createRoom` | 방 생성 | `{roomName: string, playerName: string, color: string}` | `{roomId: string}` |
| `joinRoom` | 방 입장 | `{roomId: string, playerName: string, color: string}` | `{success: boolean, room: Room}` |
| `leaveRoom` | 방 퇴장 | `{roomId: string}` | `{success: boolean}` |
| `startGame` | 게임 시작 (방장만) | `{roomId: string}` | `gameStarted` 브로드캐스트 |
| `rollDice` | 주사위 굴리기 | `{roomId: string}` | `{dice: [number, number]}` |
| `buyProperty` | 땅 구매 | `{roomId: string, propertyId: number}` | `propertyBought` 브로드캐스트 |
| `buildBuilding` | 건물 건설 | `{roomId: string, propertyId: number, type: string}` | `buildingBuilt` 브로드캐스트 |
| `trade` | 거래 제안 | `{roomId: string, targetPlayerId: string, offer: Trade}` | `tradeProposed` 타겟에게 전송 |
| `acceptTrade` | 거래 수락 | `{roomId: string, tradeId: string}` | `tradeCompleted` 브로드캐스트 |
| `endTurn` | 턴 종료 | `{roomId: string}` | `turnEnded` 브로드캐스트 |

### 7.2 서버 → 클라이언트

| 이벤트 | 설명 | 데이터 |
|--------|------|--------|
| `roomCreated` | 방 생성 완료 | `{roomId: string, room: Room}` |
| `playerJoined` | 플레이어 입장 | `{player: Player, room: Room}` |
| `playerLeft` | 플레이어 퇴장 | `{playerId: string, room: Room}` |
| `gameStarted` | 게임 시작 | `{gameState: GameState}` |
| `turnStarted` | 턴 시작 | `{playerId: string, playerName: string}` |
| `diceRolled` | 주사위 결과 | `{playerId: string, dice: [number, number], isDouble: boolean}` |
| `playerMoved` | 플레이어 이동 | `{playerId: string, from: number, to: number}` |
| `propertyBought` | 땅 구매 완료 | `{playerId: string, property: Property}` |
| `tollPaid` | 통행료 지불 | `{from: string, to: string, amount: number}` |
| `buildingBuilt` | 건물 건설 완료 | `{playerId: string, property: Property}` |
| `goldenKeyDrawn` | 황금열쇠 카드 | `{playerId: string, card: GoldenKeyCard}` |
| `playerBankrupt` | 플레이어 파산 | `{playerId: string}` |
| `gameEnded` | 게임 종료 | `{winner: Player, finalScores: Score[]}` |
| `gameStateUpdate` | 게임 상태 업데이트 | `{gameState: GameState}` |
| `error` | 에러 | `{message: string}` |

---

## 8. UI/UX 디자인 가이드

### 8.1 디자인 시스템

#### 컬러 팔레트
```css
:root {
  /* Primary */
  --color-primary: #4A90E2;
  --color-primary-dark: #2E5C8A;

  /* 플레이어 색상 */
  --color-red: #FF6B6B;
  --color-blue: #4ECDC4;
  --color-yellow: #FFE66D;
  --color-green: #95E1D3;
  --color-purple: #C77DFF;

  /* 보드 색상 그룹 */
  --color-brown: #8B4513;
  --color-light-blue: #87CEEB;
  --color-pink: #FFC0CB;
  --color-orange: #FFA500;
  --color-red-group: #DC143C;
  --color-yellow-group: #FFD700;
  --color-green-group: #32CD32;
  --color-dark-blue: #00008B;

  /* UI */
  --color-bg: #F8F9FA;
  --color-surface: #FFFFFF;
  --color-text: #333333;
  --color-text-light: #757575;
  --color-border: #E0E0E0;
  --color-shadow: rgba(0, 0, 0, 0.1);
}
```

#### 타이포그래피
```css
/* 폰트 */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap');

/* 귀여운 플레이어 이름 폰트 */
.player-name {
  font-family: 'Noto Sans KR', 'Comic Sans MS', sans-serif;
  font-weight: 700;
  font-size: 18px;
  letter-spacing: -0.5px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
}

/* 제목 */
h1 {
  font-size: 32px;
  font-weight: 900;
}

/* 본문 */
body {
  font-size: 16px;
  font-weight: 400;
}

/* 버튼 */
button {
  font-size: 16px;
  font-weight: 500;
}
```

#### 애니메이션
- **주사위 굴림**: 3D 회전 애니메이션 (1초)
- **말 이동**: 부드러운 이동 (각 칸당 0.3초)
- **카드 뒤집기**: 3D 플립 애니메이션 (0.5초)
- **건물 건설**: 위로 솟아오르는 애니메이션 (0.8초)
- **통행료 지불**: 코인 이동 애니메이션 (1초)

### 8.2 화면별 와이어프레임

#### 화면 1: 로비 (Lobby)
```
┌─────────────────────────────────────────────────────────────┐
│  🎲 Jang Got This - 세계여행 부루마블                       │
│  "주사위 하나로 떠나는 세계 여행!"                           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  플레이어 설정                                               │
│  ┌───────────────────────────────────────────────────┐     │
│  │ 이름: [____________]  (최대 10자)                 │     │
│  │                                                   │     │
│  │ 말 색상:  ⚫ 🔴 🔵 🟡 🟢 🟣                      │     │
│  │          ☑️ 빨강 ☐ 파랑 ☐ 노랑 ☐ 초록 ☐ 보라     │     │
│  └───────────────────────────────────────────────────┘     │
│                                                             │
│  ┌────────────────┐  ┌────────────────┐                    │
│  │  [방 만들기]   │  │  [방 입장]     │                    │
│  └────────────────┘  └────────────────┘                    │
│                                                             │
│  대기 중인 방                                                │
│  ┌───────────────────────────────────────────────────┐     │
│  │ 방 이름         │ 플레이어 │ 상태  │             │     │
│  ├───────────────────────────────────────────────────┤     │
│  │ 친구들과 게임   │ 2/4     │ 대기중 │ [입장]      │     │
│  │ 부루마블 고수  │ 3/5     │ 대기중 │ [입장]      │     │
│  └───────────────────────────────────────────────────┘     │
└─────────────────────────────────────────────────────────────┘
```

#### 화면 2: 대기실 (Waiting Room)
```
┌─────────────────────────────────────────────────────────────┐
│  ← 나가기       방: 친구들과 게임                            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  플레이어 (2/4)                                              │
│  ┌───────────────────────────────────────────────────┐     │
│  │ 🔴 플레이어1 (방장) ⭐                             │     │
│  │ 🔵 플레이어2                                       │     │
│  │ ⚪ 빈 자리                                         │     │
│  │ ⚪ 빈 자리                                         │     │
│  └───────────────────────────────────────────────────┘     │
│                                                             │
│  게임 설정                                                   │
│  ┌───────────────────────────────────────────────────┐     │
│  │ 제한 시간: [없음 ▼]                               │     │
│  │ AI 난이도: [보통 ▼]                               │     │
│  │ 독점 승리: [☐ 활성화]                             │     │
│  └───────────────────────────────────────────────────┘     │
│                                                             │
│  [게임 시작] (방장만 활성화)                                 │
└─────────────────────────────────────────────────────────────┘
```

#### 화면 3: 게임 메인 (Game Board)
```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│  🎲 Jang Got This                                  [설정] [나가기]                   │
├──────────────────────────────────────┬──────────────────────────────────────────────┤
│                                      │  현재 턴: 🔴 플레이어1                        │
│         게임 보드 (40칸)              │                                              │
│                                      │  플레이어 정보                                │
│  [출발] [부산] [복지] [방콕] ...     │  ┌────────────────────────────────────┐     │
│    ↑                          ↓     │  │ 🔴 플레이어1    💰 120만원         │     │
│  [서울]                    [소득세]  │  │ 🔵 플레이어2    💰 85만원          │     │
│    ↑                          ↓     │  │ 🟡 플레이어3    💰 150만원         │     │
│  [그랜드캐니언]            [타이베이] │  └────────────────────────────────────┘     │
│    ↑                          ↓     │                                              │
│  [마추픽추]                [도쿄]    │  내 자산                                      │
│    ↑                          ↓     │  ┌────────────────────────────────────┐     │
│  [리우]        🎲🎲       [베이징]  │  │ 🏠 부산 해운대 (별장 1)            │     │
│    ↑                          ↓     │  │ 🏢 도쿄 도쿄타워 (빌딩 1)          │     │
│  [카이로]                  [피지]    │  │ 🏨 파리 에펠탑 (호텔 1)            │     │
│    ↑                          ↓     │  └────────────────────────────────────┘     │
│  [이스탄불]                [오클랜드] │                                              │
│    ←  [두바이] [황금] [로마] ←      │  행동                                         │
│                                      │  ┌────────────────────────────────────┐     │
│                                      │  │ [🎲 주사위 굴리기]                 │     │
│                                      │  │ [🏗️ 건물 짓기]                    │     │
│                                      │  │ [💱 거래하기]                      │     │
│                                      │  │ [📋 자산 관리]                     │     │
│                                      │  └────────────────────────────────────┘     │
│                                      │                                              │
│                                      │  게임 로그                                    │
│                                      │  ┌────────────────────────────────────┐     │
│                                      │  │ • 플레이어1이 주사위를 굴렸습니다  │     │
│                                      │  │   (4 + 3 = 7)                      │     │
│                                      │  │ • 플레이어1이 도쿄 도쿄타워에      │     │
│                                      │  │   도착했습니다                      │     │
│                                      │  │ • 플레이어1이 도쿄 도쿄타워를      │     │
│                                      │  │   구매했습니다 (-10만원)            │     │
│                                      │  └────────────────────────────────────┘     │
└──────────────────────────────────────┴──────────────────────────────────────────────┘
```

#### 화면 4: 주사위 굴리기 애니메이션
```
┌─────────────────────────────────────┐
│                                     │
│          주사위 굴리는 중...         │
│                                     │
│         🎲          🎲              │
│        (회전)      (회전)            │
│                                     │
│                                     │
│      [애니메이션 진행 중]            │
│                                     │
└─────────────────────────────────────┘

→ 결과

┌─────────────────────────────────────┐
│                                     │
│            주사위 결과               │
│                                     │
│         🎲 4      🎲 3              │
│                                     │
│            총 7칸 이동!              │
│                                     │
│         [확인]                       │
│                                     │
└─────────────────────────────────────┘
```

#### 화면 5: 땅 구매 팝업
```
┌─────────────────────────────────────┐
│         도쿄 도쿄타워 🔵             │
├─────────────────────────────────────┤
│                                     │
│  [도쿄 타워 이미지]                  │
│                                     │
│  구매 가격: 10만원                   │
│  통행료:                             │
│  - 빈 땅: 1만원                      │
│  - 별장: 5만원                       │
│  - 빌딩: 20만원                      │
│  - 호텔: 50만원                      │
│                                     │
│  현재 보유 현금: 120만원             │
│                                     │
│  [구매하기] [거부하기]               │
│                                     │
└─────────────────────────────────────┘
```

#### 화면 6: 황금열쇠 카드
```
┌─────────────────────────────────────┐
│          황금열쇠 🔑                 │
├─────────────────────────────────────┤
│                                     │
│  [카드 플립 애니메이션]              │
│                                     │
│    출발점으로 이동하세요!            │
│    (월급 20만원 받음)                │
│                                     │
│                                     │
│         [확인]                       │
│                                     │
└─────────────────────────────────────┘
```

#### 화면 7: 게임 종료 (결과)
```
┌─────────────────────────────────────────────────────────────┐
│                    🎉 게임 종료! 🎉                         │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│                 우승자: 🔴 플레이어1                         │
│                                                             │
│  최종 순위                                                   │
│  ┌───────────────────────────────────────────────────┐     │
│  │ 순위 │ 이름       │ 총 자산     │ 땅   │ 건물    │     │
│  ├───────────────────────────────────────────────────┤     │
│  │ 1위  │ 플레이어1  │ 350만원    │ 8    │ 12      │     │
│  │ 2위  │ 플레이어2  │ (파산)     │ -    │ -       │     │
│  │ 3위  │ 플레이어3  │ (파산)     │ -    │ -       │     │
│  └───────────────────────────────────────────────────┘     │
│                                                             │
│  게임 통계                                                   │
│  - 게임 시간: 45분                                           │
│  - 총 턴 수: 87턴                                            │
│  - 최고 통행료: 80만원 (서울 경복궁)                         │
│                                                             │
│  [다시 하기] [로비로]                                        │
└─────────────────────────────────────────────────────────────┘
```

---

## 9. 개발 프로세스

### 9.1 Sprint 계획 (총 8주)

#### Sprint 1 (Week 1-2): 프로젝트 초기화 및 기본 구조
- [ ] 프로젝트 구조 설정 (클라이언트/서버)
- [ ] 보드 데이터 모델링 (board.json)
- [ ] 황금열쇠 카드 데이터 (goldenKeys.json)
- [ ] 기본 UI 레이아웃 (로비, 게임 보드)
- [ ] Socket.io 연결 설정

#### Sprint 2 (Week 3-4): 핵심 게임 로직
- [ ] 주사위 굴리기 및 이동 로직
- [ ] 턴 관리 시스템 (상태 머신)
- [ ] 땅 구매 기능
- [ ] 건물 건설 기능
- [ ] 통행료 계산 및 지불

#### Sprint 3 (Week 5-6): 실시간 멀티플레이 및 이벤트
- [ ] 방 생성/입장 시스템
- [ ] 실시간 게임 상태 동기화
- [ ] 황금열쇠 이벤트 구현
- [ ] 특수 칸 처리 (무인도, 우주여행 등)
- [ ] 파산 처리

#### Sprint 4 (Week 7-8): UI/UX 고도화 및 배포
- [ ] 애니메이션 추가 (주사위, 말 이동, 카드)
- [ ] 플레이어 이름 폰트 적용
- [ ] 게임 로그 시스템
- [ ] AI 상대 구현 (간단 버전)
- [ ] Docker 컨테이너화
- [ ] 배포 및 테스트
- [ ] 문서화

### 9.2 Git 브랜치 전략
- `main`: 배포용 안정 브랜치
- `develop`: 개발 통합 브랜치
- `feature/*`: 기능별 브랜치

### 9.3 커밋 메시지 규칙
```
feat: 새로운 기능
fix: 버그 수정
docs: 문서 수정
style: 코드 포맷팅
refactor: 리팩토링
test: 테스트 추가
chore: 빌드/설정
```

---

## 10. 테스트 계획

### 10.1 단위 테스트
- 게임 로직 함수 (주사위, 이동, 구매)
- 통행료 계산 함수
- 파산 판정 로직

### 10.2 통합 테스트
- Socket.io 이벤트 처리
- 게임 상태 동기화
- 데이터베이스 CRUD

### 10.3 E2E 테스트
- 전체 게임 플레이 (1~5명)
- 멀티플레이 시나리오
- 재접속 테스트

---

## 11. 배포

### 11.1 Docker Compose

```yaml
version: '3.8'

services:
  client:
    build: ./client
    ports:
      - "3000:3000"
    depends_on:
      - server

  server:
    build: ./server
    ports:
      - "4000:4000"
    environment:
      - MONGODB_URI=mongodb://mongo:27017/bluemarble
    depends_on:
      - mongo

  mongo:
    image: mongo:latest
    ports:
      - "27017:27017"
    volumes:
      - mongo-data:/data/db

volumes:
  mongo-data:
```

### 11.2 배포 명령
```bash
docker-compose up --build
```

---

## 12. 사용자 가이드

### 게임 시작하기
1. 로비에서 이름과 색상 선택
2. "방 만들기" 또는 기존 방 입장
3. 방장이 "게임 시작" 클릭
4. 주사위를 굴려 세계 여행 시작!

### 승리 전략
- 같은 색 그룹의 땅을 모아 건물 건설
- 고가 관광지(서울, 그랜드 캐니언)에 호텔 건설
- 황금열쇠 활용
- 현금 보유로 파산 방지

---

## 13. 향후 고도화 계획

- 플레이어 외형 커스터마이징 (아바타)
- 추가 맵 (아시아, 유럽, 아메리카 테마)
- 리더보드 시스템
- 게임 리플레이 기능
- 모바일 앱 버전
- 음성 채팅
- 시즌별 이벤트

---

**문서 버전**: 1.0  
**최종 수정일**: 2025-10-23  
**작성자**: AI Agent  
**검토자**: 사용자
